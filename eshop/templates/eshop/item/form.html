
{% block content %}
<center>
    {% if method != "PUT" %}
        <form method="{{ method }}" action="{% url 'create_item' shop.id %}?{{ query_path }}" enctype="multipart/form-data">
    {% else %}
        <form method="POST" action="{% url 'create_item' shop.id %}?{{ query_path }}" enctype="multipart/form-data">
    {% endif %}
        {% csrf_token %}
        {{ item_form.title }}
        {{ item_form.title.errors }}
        {{ item_form.description }}
        {{ item_form.description.errors }}
        {{ item_form.path }}
        {{ item_form.path.errors }}
        {{ item_form.price }}
        {{ item_form.price.errors }}
        <input class="form-control mb-3" type="file" name="images" multiple accept="image/*" id="id_images">
        {{ item_form.images.errors }}
        <!--<input type="text" name="images" maxlength="100" id="images">
        <label for="note-image">Images</label>
        <input type="file" name="images" class="form-control-file" id="images" multiple>-->

        <br>
        {% if method != "PUT" %}
            <button type="submit" class="btn btn-success">Add item</button>
        {% else %}
            <button type="submit" class="btn btn-success">Update item</button>
        {% endif %}
        <br><br><br><br>
    </form>
</center>

<style>
    #userList li:hover{
        background-color: #54c470;
    }
    #adminList li:hover{
        background-color: #ff3333;
    }
    #adminList li:first-child{
        background-color: #FFF;
    }
    .preview-images-zone {
    width: 100%;
    border: 1px solid #ddd;
    min-height: 180px;
    /* display: flex; */
    padding: 5px 5px 0px 5px;
    position: relative;
    overflow:auto;
    }
    .preview-images-zone > .preview-image:first-child {
        height: 185px;
        width: 185px;
        position: relative;
        margin-right: 5px;
    }
    .preview-images-zone > .preview-image {
        height: 90px;
        width: 90px;
        position: relative;
        margin-right: 5px;
        float: left;
        margin-bottom: 5px;
    }
    .preview-images-zone > .preview-image > .image-zone {
        width: 100%;
        height: 100%;
    }
    .preview-images-zone > .preview-image > .image-zone > img {
        width: 100%;
        height: 100%;
        cursor: default;
    }
    .preview-images-zone > .preview-image > .tools-edit-image {
        position: absolute;
        z-index: 100;
        color: #fff;
        bottom: 0;
        width: 100%;
        text-align: center;
        margin-bottom: 10px;
        display: none;
    }
    .preview-images-zone > .preview-image > .image-cancel {
        font-size: 18px;
        position: absolute;
        top: 0;
        right: 0;
        font-weight: bold;
        margin-right: 10px;
        cursor: pointer;
        display: none;
        z-index: 100;
    }
    .preview-image:hover > .image-zone {
        cursor: move;
        opacity: .5;
    }
    .preview-image:hover > .tools-edit-image,
    .preview-image:hover > .image-cancel {
        display: block;
    }
    .ui-sortable-helper {
        width: 90px !important;
        height: 90px !important;
    }

    .container {
        padding-top: 50px;
    }
</style>

<script>
$(document).ready(function() {
    $("#id_path").val("{{ path }}")
});
</script>
{% endblock %}
